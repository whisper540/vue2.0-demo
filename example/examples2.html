<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>v-if</title>
    <script src="../assets/js/vue.js"></script>
    <link rel="stylesheet" href="../assets/css/index.css">
</head>
<body>
<h1>examples实例方法！</h1>
<hr>
<div id="app">

</div>
<p>
    <button onclick="xiezai()">卸载</button>
    <button onclick="shuaxin()">刷新</button>
    <button onclick="xiugai()">修改</button>
</p>
<script>
    var header_aaa = Vue.extend({
        template:`<p>{{message}}</p>`,
        data:function () {
            return {
                message:"Hello This is Header!",
            }
        },
        destroyed:function () {
            console.log("卸载!");
        },
        updated:function () {//控制刷新一般用updated
            console.log("更新了")
        },
    });

    var vm = new header_aaa().$mount('#app');

    function xiezai() {
        vm.$destroy();
    }

    function shuaxin() {
        vm.$forceUpdate();
    }

    function xiugai(){
        vm.message = "数据被修改了!";
        vm.$nextTick(function () {
            console.log("更新完后,我被调用!")
        })
    }
</script>
</body>
</html>